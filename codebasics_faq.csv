prompt,response
What does IPsec stand for?,IPsec stands for Internet Protocol Security.
What is the primary purpose of IPsec?,IPsec's primary purpose is to provide secure communication over an IP network by authenticating and encrypting each IP packet.
What are the two main IPsec protocols?,The two main IPsec protocols are Authentication Header (AH) and Encapsulating Security Payload (ESP).
What layer of the OSI model does IPsec operate at?,IPsec operates at Layer 3 (the Network Layer) of the OSI model.
What are the two modes of IPsec?,The two modes of IPsec are Transport Mode and Tunnel Mode.
What is IPsec Transport Mode used for?,"Transport Mode is used for end-to-end security between two hosts, encrypting only the payload of the IP packet."
What is IPsec Tunnel Mode used for?,"Tunnel Mode is used for network-to-network or host-to-network security, encrypting the entire original IP packet and adding a new IP header."
Which IPsec mode is commonly used for VPNs?,Tunnel Mode is commonly used for Site-to-Site VPNs.
What does AH provide?,"AH (Authentication Header) provides data integrity, data authentication, and anti-replay protection for IP packets."
Does AH provide encryption?,"No, AH does not provide encryption."
What does ESP provide?,"ESP (Encapsulating Security Payload) provides data encryption, data integrity, data authentication, and anti-replay protection."
Which IPsec protocol is more commonly used today?,ESP is more commonly used today due to its encryption capabilities.
What is a Security Association (SA) in IPsec?,A Security Association (SA) is a unidirectional logical connection that defines how two endpoints will use security services for a particular flow of traffic.
What information is contained in an SA?,"An SA contains parameters like the IPsec protocol (AH/ESP), cryptographic algorithms, keys, lifetime, and Security Parameter Index (SPI)."
What is the Security Parameter Index (SPI)?,"The SPI is a unique 32-bit identifier in the AH or ESP header that, along with the destination IP address and IPsec protocol, identifies a specific SA."
What is Internet Key Exchange (IKE)?,IKE (Internet Key Exchange) is a protocol used to establish Security Associations (SAs) and manage cryptographic keys dynamically.
What are the two phases of IKEv1?,IKEv1 has two phases: Phase 1 (Main Mode or Aggressive Mode) and Phase 2 (Quick Mode).
What is the purpose of IKE Phase 1?,"IKE Phase 1 establishes a secure, authenticated channel (the IKE SA or ISAKMP SA) to protect subsequent IKE messages."
What is the purpose of IKE Phase 2?,IKE Phase 2 (Quick Mode) negotiates the IPsec SAs that secure user data traffic.
What are the common authentication methods in IKE?,Common authentication methods in IKE are pre-shared keys (PSK) and digital certificates.
What is Diffie-Hellman (DH) used for in IKE?,Diffie-Hellman (DH) is used in IKE to securely exchange cryptographic keys over an unsecured channel.
What is Perfect Forward Secrecy (PFS)?,"PFS (Perfect Forward Secrecy) ensures that if a single key is compromised, it does not compromise any past or future session keys."
How is PFS typically achieved in IKE?,PFS is typically achieved by performing a new Diffie-Hellman key exchange for each IPsec SA (in IKE Phase 2).
What is a Transform Set (or IPsec Proposal)?,"A Transform Set (or IPsec Proposal) defines the combination of security protocols (AH/ESP), encryption algorithms, and hashing algorithms to be used for IPsec SAs."
Name common encryption algorithms used in IPsec.,"Common encryption algorithms include AES (128, 192, 256), 3DES, and DES."
Name common hashing algorithms used in IPsec.,"Common hashing algorithms include SHA-256, SHA-384, SHA-512 (SHA-2 family), and MD5."
What is the difference between IKEv1 and IKEv2?,"IKEv2 is a more robust, efficient, and streamlined protocol than IKEv1, offering better NAT traversal, mobility support, and fewer messages for SA establishment."
Which IKE version is recommended for new deployments?,IKEv2 is generally recommended for new deployments.
What is Dead Peer Detection (DPD)?,DPD (Dead Peer Detection) is a mechanism used to detect if an IPsec peer is no longer reachable or alive.
How does DPD work?,DPD works by sending periodic keepalive messages to the peer and expecting a response within a timeout period.
What is Network Address Translation-Traversal (NAT-T) in IPsec?,NAT-T allows IPsec-protected traffic to pass through NAT devices by encapsulating IPsec packets within UDP port 4500.
Why is NAT-T important for IPsec?,"NAT-T is important because traditional IPsec (AH/ESP) alters the IP header, which interferes with NAT's ability to translate addresses."
What is a Crypto ACL (or Traffic Selector/Proxy ID)?,"A Crypto ACL defines the interesting traffic"" that should be protected by the IPsec tunnel. It specifies source and destination IP addresses/subnets."""
"What does interesting traffic"" mean in IPsec?""","Interesting traffic"" refers to the specific IP traffic that the IPsec peer devices are configured to encrypt and send through the VPN tunnel."""
What is a Site-to-Site VPN?,"A Site-to-Site VPN connects two networks (e.g., branch office to headquarters) securely over an unsecured network like the internet."
What is a Remote Access VPN?,"A Remote Access VPN allows individual users (e.g., remote workers) to securely connect to a private network from a remote location."
What is a Virtual Tunnel Interface (VTI)?,"A VTI is a logical interface on a router used for route-based IPsec VPNs, where traffic is routed into the tunnel interface to be encrypted."
What is the main advantage of route-based VPNs (using VTIs) over policy-based VPNs?,Route-based VPNs offer more flexibility in routing and can support dynamic routing protocols over the tunnel.
What is a GRE over IPsec VPN?,"A GRE over IPsec VPN encapsulates GRE (Generic Routing Encapsulation) traffic within an IPsec tunnel, allowing non-IP traffic or multicast to traverse the VPN."
What are common troubleshooting steps for IPsec VPNs?,"Common troubleshooting steps include checking phase 1 and phase 2 SAs, verifying connectivity, inspecting security policies, and checking logs."
What command is used to check IKE SAs on Cisco routers?,`show crypto ikev2 sa` (for IKEv2) or `show crypto isakmp sa` (for IKEv1).
What command is used to check IPsec SAs on Cisco routers?,`show crypto ipsec sa`.
"What does crypto map"" refer to on Cisco devices?""","A crypto map is a configuration element used for policy-based IPsec VPNs, linking security policies to an interface."
What is the role of a peer in IPsec?,"A peer is the remote IPsec device (router, firewall, host) with which an IPsec tunnel is established."
"What is the concept of a crypto profile"" in IPsec?""",A crypto profile is a configuration element (often for VTI-based IPsec) that groups IPsec parameters (like transform-set) to be applied to a tunnel interface.
Can IPsec provide encryption without authentication?,"Yes, ESP can provide encryption without authentication, but it's generally not recommended for strong security."
Can IPsec provide authentication without encryption?,"Yes, AH provides authentication without encryption."
What is replay protection in IPsec?,Replay protection prevents an attacker from capturing and re-transmitting valid IPsec packets to trick the receiver.
How does IPsec's anti-replay mechanism work?,It uses a sequence number in the AH/ESP header and a sliding window on the receiver to detect and discard replayed packets.
What is the default port for IKE?,The default port for IKE is UDP port 500.
What port does NAT-T use for IPsec traffic?,NAT-T uses UDP port 4500.
What is a firewall's role with IPsec?,"A firewall can terminate IPsec VPNs, or allow IPsec traffic to pass through if necessary ports (UDP 500, UDP 4500, ESP/AH protocols) are open."
Can IPsec be used with IPv6?,"Yes, IPsec was designed to work with both IPv4 and IPv6."
What is a DPD timeout?,A DPD timeout is the period of inactivity after which an IPsec peer is considered dead and the SA is torn down.
"What is a crypto policy"" in some IPsec implementations?""","A crypto policy defines the suite of encryption, authentication, and key exchange algorithms that are acceptable for IKE Phase 1."
What is a common reason for IKE Phase 1 negotiation failure?,"Mismatched pre-shared keys, incorrect peer IP addresses, or mismatched Phase 1 parameters (encryption, hashing, DH group) are common reasons."
What is a common reason for IKE Phase 2 negotiation failure?,"Mismatched transform sets, incorrect interesting traffic definitions (proxy IDs), or mismatched PFS settings are common reasons."
Can two IPsec tunnels share the same crypto map entry?,"No, each IPsec tunnel requires a unique crypto map entry or dedicated tunnel interface configuration."
What is the purpose of an IPsec VPN tunnel interface in cloud environments?,"In cloud environments (like AWS/Azure), IPsec VPN tunnel interfaces are used to create secure connections between cloud VPCs/VNets and on-premises networks."
What is the significance of the `ip verify reverse-path` command in relation to IPsec?,It's part of Unicast Reverse Path Forwarding (uRPF) which can conflict with asymmetric routing or multi-path VPNs if not configured carefully.
What is a 'child SA' in IKEv2?,"A 'child SA' in IKEv2 is equivalent to the IPsec SA (Phase 2) in IKEv1, securing the actual data traffic."
What is the 'IKE SA' in IKEv2?,"The 'IKE SA' in IKEv2 is the secure channel established in the first exchange, equivalent to the ISAKMP SA (Phase 1) in IKEv1."
What is a 'key lifetime' in IPsec?,A key lifetime defines how long an SA and its keys remain valid before rekeying is required.
Why is rekeying important in IPsec?,"Rekeying periodically changes the encryption keys to limit the amount of data encrypted with a single key, enhancing security against cryptanalysis."
What is the difference between an IKEv2 `proposal` and an IKEv2 `profile`?,"An IKEv2 `proposal` defines acceptable cryptographic parameters (encryption, integrity, DH), while an IKEv2 `profile` binds these proposals to an interface and defines other IKEv2-specific settings (like local/remote identities)."
Can IPsec be used to secure multicast traffic?,Native IPsec (AH/ESP) does not directly support multicast. GRE over IPsec is commonly used to encapsulate multicast traffic for secure transport.
What is the role of an IPsec 'selector' or 'traffic selector'?,"It defines the IP addresses, protocols, and ports of the traffic that should be protected by a specific IPsec SA."
What are the consequences of overlapping CIDR blocks in IPsec VPNs?,"Overlapping CIDR blocks prevent IPsec tunnels from being established or cause routing conflicts, making communication impossible between the networks."
How does IPsec protect against MITM attacks?,"IPsec protects against MITM (Man-in-the-Middle) attacks primarily through strong authentication (PSK, certificates) during IKE Phase 1."
Can IPsec tunnel mode be used for host-to-host communication?,"Yes, Tunnel Mode can be used for host-to-host, but Transport Mode is typically more efficient for that specific use case."
What is the `df-bit` in relation to IPsec and fragmentation?,"The `df-bit` (Don't Fragment bit) in the IP header tells routers not to fragment the packet. IPsec encapsulation increases packet size, so packets might get dropped if the `df-bit` is set and they exceed MTU."
How does IPsec handle fragmentation?,"Ideally, IPsec should avoid fragmentation by adjusting the Maximum Segment Size (MSS) or Maximum Transmission Unit (MTU) to accommodate the overhead."
What is a common MTU for IPsec over the internet?,"A common effective MTU for IPsec over the internet is around 1380-1400 bytes, depending on the specific overhead."
What is the purpose of a crypto engine in a router?,"A crypto engine (often hardware-accelerated) offloads cryptographic computations (encryption/decryption, hashing) from the main CPU, improving performance."
What is a tunnel group in remote access VPNs?,"A tunnel group defines a set of attributes (authentication, authorization, encryption) that apply to remote access VPN users connecting to a specific group."
How are IPsec SAs established in FlexVPN?,"FlexVPN uses IKEv2 and dynamically created VTIs to establish SAs, often simplifying large-scale spoke-to-spoke communication."
What is the maximum number of IPsec SAs on a typical router?,This varies greatly by router model and memory. Enterprise-grade routers can handle thousands to tens of thousands of SAs.
Can IPsec VPNs traverse multiple NAT devices?,"Yes, with NAT-T enabled, IPsec VPNs can traverse multiple NAT devices."
What is the difference between VPN and IPsec?,VPN (Virtual Private Network) is a broader concept for creating a secure connection over a public network. IPsec is a specific suite of protocols commonly used to implement VPNs.
What is a VPN headend?,A VPN headend is the central VPN gateway or concentrator that terminates multiple VPN tunnels from remote sites or users.
What are the main security services provided by IPsec?,"Confidentiality (encryption), Integrity, Authentication, and Anti-replay protection."
What is a Site-to-Site IPsec tunnel?,A Site-to-Site IPsec tunnel securely connects two geographically separated private networks over a public network like the internet.
What is the primary goal of a Site-to-Site IPsec tunnel?,Its primary goal is to allow resources in one private network to securely communicate with resources in another private network as if they were on the same local network.
What kind of traffic does a Site-to-Site tunnel protect?,It protects traffic between specified internal subnets or hosts on both sides of the tunnel.
What are the main components required to establish a Site-to-Site IPsec tunnel?,"Two VPN gateways (routers/firewalls), IPsec configuration (IKE, IPsec policies), and routing information for remote networks."
"In Site-to-Site IPsec, what does 'interesting traffic' refer to?",'Interesting traffic' is the specific IP traffic between the two private networks that needs to be encrypted and sent through the tunnel.
What is the role of the VPN gateway in a Site-to-Site tunnel?,"The VPN gateway (e.g., router, firewall) acts as the endpoint for the IPsec tunnel, encrypting/decrypting traffic before it enters/leaves the private network."
Does Site-to-Site IPsec typically use Transport Mode or Tunnel Mode?,Site-to-Site IPsec almost exclusively uses Tunnel Mode.
Why is Tunnel Mode preferred for Site-to-Site VPNs?,"Tunnel Mode encrypts the entire original IP packet and adds a new outer IP header, making it ideal for connecting entire networks."
What are the two phases of IKE (Internet Key Exchange) in a Site-to-Site setup?,IKE Phase 1 (Main Mode/Aggressive Mode) and IKE Phase 2 (Quick Mode).
What is negotiated in IKE Phase 1 for a Site-to-Site tunnel?,"IKE Phase 1 establishes a secure, authenticated channel (ISAKMP SA) between the two VPN gateways."
What is negotiated in IKE Phase 2 for a Site-to-Site tunnel?,IKE Phase 2 negotiates the actual IPsec SAs that protect the user data traffic between the two networks.
What authentication methods are commonly used for Site-to-Site IKE?,Pre-shared keys (PSK) and digital certificates are common.
"When setting up a Site-to-Site tunnel, what are common Phase 1 parameters that must match?","Encryption algorithm, hashing algorithm, Diffie-Hellman group, authentication method, and lifetime."
"When setting up a Site-to-Site tunnel, what are common Phase 2 parameters that must match?","IPsec protocol (ESP/AH), encryption algorithm, hashing algorithm, Perfect Forward Secrecy (PFS) settings, and lifetime."
What is the significance of non-overlapping CIDR blocks in Site-to-Site VPNs?,The local and remote network CIDR blocks must not overlap for routing to function correctly across the tunnel.
Can dynamic routing protocols be run over a Site-to-Site IPsec tunnel?,"Yes, if the tunnel is route-based (e.g., using VTIs or GRE over IPsec), dynamic routing protocols like BGP or OSPF can be run over it."
What is a common routing method for policy-based Site-to-Site tunnels?,"Static routes are commonly used for policy-based tunnels, pointing to the remote network via the VPN gateway's external interface."
What is a common routing method for route-based Site-to-Site tunnels?,"Static routes pointing to the tunnel interface, or dynamic routing protocols running over the tunnel interface."
What is NAT-Traversal (NAT-T) used for in Site-to-Site tunnels?,NAT-T allows IPsec traffic to pass through Network Address Translation (NAT) devices by encapsulating IPsec packets in UDP port 4500.
Why is NAT-T important for Site-to-Site VPNs over the internet?,"Many organizations use NAT, and NAT-T ensures IPsec tunnels can be established even when one or both VPN gateways are behind NAT devices."
What is Dead Peer Detection (DPD) used for in Site-to-Site tunnels?,"DPD is used to detect if the remote VPN gateway is no longer reachable, allowing the local gateway to tear down the tunnel and potentially re-establish it or failover."
How does DPD help with failover in Site-to-Site VPNs?,"By quickly detecting dead peers, DPD enables quicker failover to redundant tunnels or paths."
What is a 'local proxy ID' in a policy-based Site-to-Site tunnel?,The local proxy ID (or local traffic selector) defines the local network's CIDR or specific hosts whose traffic will be encrypted.
What is a 'remote proxy ID' in a policy-based Site-to-Site tunnel?,The remote proxy ID (or remote traffic selector) defines the remote network's CIDR or specific hosts that are reachable via the tunnel.
What happens if local and remote proxy IDs don't match?,The Site-to-Site IPsec tunnel will not establish or will fail during Phase 2 negotiation.
What is the typical network setup for a Site-to-Site VPN gateway?,A VPN gateway usually has at least two interfaces: one connected to the internet/public network and one connected to the local private network.
Can a Site-to-Site IPsec tunnel connect two AWS VPCs directly?,"No, AWS VPC peering is used for direct VPC-to-VPC connections. IPsec is typically used for VPC-to-on-premises or VPC-to-other-cloud connections."
How are AWS Site-to-Site VPN connections typically configured on the AWS side?,"Using a Virtual Private Gateway (VGW) or a Transit Gateway, which handle the IPsec termination."
What is the main benefit of using a Transit Gateway for Site-to-Site VPNs in AWS?,"Transit Gateway allows multiple VPCs to share a single VPN connection to on-premises, simplifying network architecture and routing."
What is the difference between a policy-based and a route-based Site-to-Site VPN?,Policy-based uses ACLs to define interesting traffic; route-based uses a dedicated tunnel interface and routes traffic into it.
Which type of Site-to-Site VPN is generally more flexible for complex routing?,Route-based VPNs are generally more flexible as they allow dynamic routing protocols.
What is the role of a crypto map in a policy-based Site-to-Site VPN?,"A crypto map ties together the IPsec parameters (transform set), interesting traffic (ACL), and the remote peer for application to an interface."
What is the role of a Virtual Tunnel Interface (VTI) in a route-based Site-to-Site VPN?,"A VTI is a logical interface that acts as the ingress/egress for encrypted traffic, allowing routing protocols to interact with it."
Can Site-to-Site IPsec protect multicast traffic natively?,"No, native IPsec (AH/ESP) does not directly support multicast. GRE over IPsec is often used for this."
How do you ensure Perfect Forward Secrecy (PFS) in a Site-to-Site tunnel?,By configuring the same DH group for PFS in IKE Phase 2 on both VPN gateways.
What is an IPsec tunnel endpoint?,An IPsec tunnel endpoint is the IP address of the VPN gateway that terminates the IPsec tunnel on each side.
What is a common reason for a Site-to-Site IPsec tunnel to fail to come up (Phase 1)?,"Mismatched pre-shared keys, incorrect public IP addresses for peers, or mismatched IKE Phase 1 proposals (encryption, hash, DH group, lifetime)."
"What is a common reason for a Site-to-Site IPsec tunnel to come up, but traffic doesn't pass (Phase 2)?","Mismatched Phase 2 transform sets, incorrect 'interesting traffic' (proxy IDs/traffic selectors), or routing issues behind the VPN gateways."
How do you troubleshoot routing issues in a Site-to-Site VPN?,"Verify static routes or BGP neighbors, check routing tables on"
"What is a Site-to-Site IPsec tunnel?,""A Site-to-Site IPsec tunnel securely connects two geographically separated private networks over a public network like the internet.""",
"What is the primary goal of a Site-to-Site IPsec tunnel?,""Its primary goal is to allow resources in one private network to securely communicate with resources in another private network as if they were on the same local network.""",
"What kind of traffic does a Site-to-Site tunnel protect?,""It protects traffic between specified internal subnets or hosts on both sides of the tunnel.""",
"What are the main components required to establish a Site-to-Site IPsec tunnel?,""Two VPN gateways (routers/firewalls), IPsec configuration (IKE, IPsec policies), and routing information for remote networks.""",
"In Site-to-Site IPsec, what does 'interesting traffic' refer to?,""'Interesting traffic' is the specific IP traffic between the two private networks that needs to be encrypted and sent through the tunnel.""",
"What is the role of the VPN gateway in a Site-to-Site tunnel?,""The VPN gateway (e.g., router, firewall) acts as the endpoint for the IPsec tunnel, encrypting/decrypting traffic before it enters/leaves the private network.""",
"Does Site-to-Site IPsec typically use Transport Mode or Tunnel Mode?,""Site-to-Site IPsec almost exclusively uses Tunnel Mode.""",
"Why is Tunnel Mode preferred for Site-to-Site VPNs?,""Tunnel Mode encrypts the entire original IP packet and adds a new outer IP header, making it ideal for connecting entire networks.""",
"What are the two phases of IKE (Internet Key Exchange) in a Site-to-Site setup?,""IKE Phase 1 (Main Mode/Aggressive Mode) and IKE Phase 2 (Quick Mode).""",
"What is negotiated in IKE Phase 1 for a Site-to-Site tunnel?,""IKE Phase 1 establishes a secure, authenticated channel (ISAKMP SA) between the two VPN gateways.""",
"What is negotiated in IKE Phase 2 for a Site-to-Site tunnel?,""IKE Phase 2 negotiates the actual IPsec SAs that protect the user data traffic between the two networks.""",
"What authentication methods are commonly used for Site-to-Site IKE?,""Pre-shared keys (PSK) and digital certificates are common.""",
"When setting up a Site-to-Site tunnel, what are common Phase 1 parameters that must match?,""Encryption algorithm, hashing algorithm, Diffie-Hellman group, authentication method, and lifetime.""",
"When setting up a Site-to-Site tunnel, what are common Phase 2 parameters that must match?,""IPsec protocol (ESP/AH), encryption algorithm, hashing algorithm, Perfect Forward Secrecy (PFS) settings, and lifetime.""",
"What is the significance of non-overlapping CIDR blocks in Site-to-Site VPNs?,""The local and remote network CIDR blocks must not overlap for routing to function correctly across the tunnel.""",
"Can dynamic routing protocols be run over a Site-to-Site IPsec tunnel?,""Yes, if the tunnel is route-based (e.g., using VTIs or GRE over IPsec), dynamic routing protocols like BGP or OSPF can be run over it.""",
"What is a common routing method for policy-based Site-to-Site tunnels?,""Static routes are commonly used for policy-based tunnels, pointing to the remote network via the VPN gateway's external interface.""",
"What is a common routing method for route-based Site-to-Site tunnels?,""Static routes pointing to the tunnel interface, or dynamic routing protocols running over the tunnel interface.""",
"What is NAT-Traversal (NAT-T) used for in Site-to-Site tunnels?,""NAT-T allows IPsec traffic to pass through Network Address Translation (NAT) devices by encapsulating IPsec packets in UDP port 4500.""",
"Why is NAT-T important for Site-to-Site VPNs over the internet?,""Many organizations use NAT, and NAT-T ensures IPsec tunnels can be established even when one or both VPN gateways are behind NAT devices.""",
"What is Dead Peer Detection (DPD) used for in Site-to-Site tunnels?,""DPD is used to detect if the remote VPN gateway is no longer reachable, allowing the local gateway to tear down the tunnel and potentially re-establish it or failover.""",
"How does DPD help with failover in Site-to-Site VPNs?,""By quickly detecting dead peers, DPD enables quicker failover to redundant tunnels or paths.""",
"What is a 'local proxy ID' in a policy-based Site-to-Site tunnel?,""The local proxy ID (or local traffic selector) defines the local network's CIDR or specific hosts whose traffic will be encrypted.""",
"What is a 'remote proxy ID' in a policy-based Site-to-Site tunnel?,""The remote proxy ID (or remote traffic selector) defines the remote network's CIDR or specific hosts that are reachable via the tunnel.""",
"What happens if local and remote proxy IDs don't match?,""The Site-to-Site IPsec tunnel will not establish or will fail during Phase 2 negotiation.""",
"What is the typical network setup for a Site-to-Site VPN gateway?,""A VPN gateway usually has at least two interfaces: one connected to the internet/public network and one connected to the local private network.""",
"Can a Site-to-Site IPsec tunnel connect two AWS VPCs directly?,""No, AWS VPC peering is used for direct VPC-to-VPC connections. IPsec is typically used for VPC-to-on-premises or VPC-to-other-cloud connections.""",
"How are AWS Site-to-Site VPN connections typically configured on the AWS side?,""Using a Virtual Private Gateway (VGW) or a Transit Gateway, which handle the IPsec termination.""",
"What is the main benefit of using a Transit Gateway for Site-to-Site VPNs in AWS?,""Transit Gateway allows multiple VPCs to share a single VPN connection to on-premises, simplifying network architecture and routing.""",
"What is the difference between a policy-based and a route-based Site-to-Site VPN?,""Policy-based uses ACLs to define interesting traffic; route-based uses a dedicated tunnel interface and routes traffic into it.""",
"Which type of Site-to-Site VPN is generally more flexible for complex routing?,""Route-based VPNs are generally more flexible as they allow dynamic routing protocols.""",
"What is the role of a crypto map in a policy-based Site-to-Site VPN?,""A crypto map ties together the IPsec parameters (transform set), interesting traffic (ACL), and the remote peer for application to an interface.""",
"What is the role of a Virtual Tunnel Interface (VTI) in a route-based Site-to-Site VPN?,""A VTI is a logical interface that acts as the ingress/egress for encrypted traffic, allowing routing protocols to interact with it.""",
"Can Site-to-Site IPsec protect multicast traffic natively?,""No, native IPsec (AH/ESP) does not directly support multicast. GRE over IPsec is often used for this.""",
"How do you ensure Perfect Forward Secrecy (PFS) in a Site-to-Site tunnel?,""By configuring the same DH group for PFS in IKE Phase 2 on both VPN gateways.""",
"What is an IPsec tunnel endpoint?,""An IPsec tunnel endpoint is the IP address of the VPN gateway that terminates the IPsec tunnel on each side.""",
"What is a common reason for a Site-to-Site IPsec tunnel to fail to come up (Phase 1)?,""Mismatched pre-shared keys, incorrect public IP addresses for peers, or mismatched IKE Phase 1 proposals (encryption, hash, DH group, lifetime).""",
"What is a common reason for a Site-to-Site IPsec tunnel to come up, but traffic doesn't pass (Phase 2)?,""Mismatched Phase 2 transform sets, incorrect 'interesting traffic' (proxy IDs/traffic selectors), or routing issues behind the VPN gateways.""",
"How do you troubleshoot routing issues in a Site-to-Site VPN?,""Verify static routes or BGP neighbors, check routing tables on both sides for correct remote network entries, and ensure no overlapping CIDRs.""",
"What is the impact of MTU mismatch on a Site-to-Site IPsec tunnel?,""MTU mismatch can lead to packet fragmentation, reassembly issues, and performance degradation or packet loss.""",
"How can you typically mitigate MTU issues in IPsec tunnels?,""By adjusting the TCP MSS (Maximum Segment Size) value or the tunnel's MTU to account for IPsec overhead.""",
"What is a common IPsec tunnel MTU after encapsulation?,""Typically around 1380 to 1400 bytes, as the IPsec headers add overhead to the original packet.""",
"What are the default ports that need to be open on firewalls for IPsec?,""UDP 500 (for IKE) and UDP 4500 (for IKE/NAT-T), and IP protocols 50 (ESP) and 51 (AH).""",
"Can two Site-to-Site tunnels be established between the same two VPN gateways?,""Yes, multiple tunnels can be established, often for redundancy or to carry different classes of traffic with different policies.""",
"What is a redundant Site-to-Site VPN setup?,""A redundant setup involves having multiple VPN tunnels or multiple VPN gateways on each side to ensure connectivity even if one path or device fails.""",
"What is a backup Site-to-Site tunnel?,""A backup tunnel is a secondary VPN connection that becomes active only if the primary tunnel fails, providing failover.""",
"How can you monitor the status of a Site-to-Site IPsec tunnel?,""By checking VPN gateway logs, `show crypto ipsec sa`, `show crypto ikev2 sa` commands, and monitoring interface status for route-based tunnels.""",
"What are IPsec policies in a Site-to-Site context?,""IPsec policies define the specific security parameters (encryption, authentication) for securing data traffic.""",
"What is an IPsec profile (in some implementations like Cisco)?,""An IPsec profile groups IPsec parameters like transform-set, DPD, and PFS to be applied to a tunnel interface in route-based VPNs.""",
"How is a Site-to-Site VPN typically identified on each side?,""By the public IP addresses of the VPN gateways (peers).""",
"Can Site-to-Site IPsec tunnels be encrypted with AES-256?,""Yes, AES-256 is a common and strong encryption algorithm used in IPsec.""",
"What is the purpose of anti-replay protection in Site-to-Site IPsec?,""It prevents an attacker from capturing and re-transmitting legitimate packets to cause denial-of-service or other attacks.""",
"What is a split tunnel vs. full tunnel in a VPN context?,""Split tunnel sends only specified traffic over the VPN; full tunnel sends all traffic over the VPN. More common in remote access, but concepts apply to S2S routing.""",
"Can Site-to-Site IPsec be used with IPv6?,""Yes, IPsec protocols are designed to support both IPv4 and IPv6 traffic.""",
"What is the role of a static route for a Site-to-Site VPN?,""A static route directs traffic for the remote network to the IPsec VPN gateway's interface or the tunnel interface.""",
"What is a security vulnerability of using a very short IKE lifetime?,""It increases CPU overhead due to frequent rekeying, but enhances security by limiting key exposure.""",
"What is a security vulnerability of using a very long IKE lifetime?,""It increases the window for a compromised key to be exploited, decreasing overall security.""",
"How does a Site-to-Site VPN improve data confidentiality?,""By encrypting all 'interesting traffic' that traverses the public network.""",
"How does a Site-to-Site VPN improve data integrity?,""By using hashing algorithms (like SHA) to ensure that data has not been tampered with in transit.""",
"How does a Site-to-Site VPN provide authentication?,""By authenticating the VPN gateways using pre-shared keys or certificates during IKE Phase 1.""",
"What is a common use case for a Site-to-Site IPsec tunnel in cloud migration?,""Connecting an on-premises data center to a cloud VPC/VNet to extend the enterprise network securely.""",
"What is the difference between an on-premises VPN gateway and a cloud VPN gateway?,""An on-premises gateway is a physical or virtual appliance you manage; a cloud gateway is a managed service provided by the cloud provider (e.g., AWS VGW, Azure VPN Gateway).""",
"Can a single VPN gateway support multiple Site-to-Site tunnels to different remote sites?,""Yes, a single VPN gateway can serve as a VPN headend for multiple Site-to-Site tunnels.""",
"What is a hub-and-spoke Site-to-Site VPN topology?,""A topology where multiple 'spoke' sites connect to a central 'hub' site via individual VPN tunnels. Spokes typically don't communicate directly.""",
"What is a full-mesh Site-to-Site VPN topology?,""A topology where every site has a direct VPN tunnel to every other site, allowing direct communication but increasing complexity with more sites.""",
"Which Site-to-Site VPN topology is easier to manage with many sites?,""Hub-and-spoke is generally easier to manage with many sites compared to full-mesh.""",
"What is a common challenge when debugging Site-to-Site VPNs?,""Asymmetric routing, mismatched configurations on either side, and firewall rules blocking IPsec ports/protocols.""",
"What is the role of a network administrator in a Site-to-Site VPN setup?,""To configure, monitor, and troubleshoot the VPN gateways and associated routing on both sides.""",
"Can Site-to-Site VPNs be used for connecting different departments within the same company?,""Yes, if departments are geographically separated and have their own private networks.""",
"Are Site-to-Site IPsec tunnels typically always-on or on-demand?,""They are typically always-on, maintaining a persistent secure connection between networks.""",
"What is the importance of keeping VPN gateway firmware/software updated?,""To ensure security patches are applied and to support newer IPsec features and algorithms.""",
"How does IPsec protect against eavesdropping on a Site-to-Site connection?,""Through encryption provided by ESP, which scrambles the data payload.""",
"What are the main IPsec security services for Site-to-Site tunnels?,""Confidentiality, integrity, authentication, and anti-replay protection for data between sites.""",
"Can SD-WAN solutions integrate with Site-to-Site IPsec?,""Yes, many SD-WAN solutions build their secure overlays using IPsec tunnels for site-to-site connectivity.""",
"What is the difference between a crypto ACL and a normal ACL?,""A crypto ACL defines traffic for encryption; a normal ACL defines traffic for filtering or other routing/policy actions.""",
"What is the purpose of 'ip nat inside/outside' in a Cisco context for Site-to-Site VPNs?,""It defines interfaces as belonging to inside or outside NAT zones, influencing how NAT is applied (or bypassed for encrypted traffic).""",
